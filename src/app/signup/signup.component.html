<div class="container-fluid">
  <app-page-title
    titulo="Registro de usuarios"
    descripcion="Aquí puedes registra usuarios de todos los tipos"
  >
  </app-page-title>
</div>

<div class="container-fluid">
  <div class="card my-3">
    <div class="card-header">Formaulario para registra usuario</div>
    <div class="card-body">

      <form role="form" [formGroup]="userForm" (ngSubmit)="onRegistrarUsuario()">
        <div class="formulario-input">
          <!-- nombres -->
          <div class="form-group">
            <label for="nombres">Nombres</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-single-02"></i
                ></span>
              </div>
  
              <input
                class="form-control"
                formControlName="nombres"
                placeholder="Nombres"
                id="nombres"
                type="text"
                (focus)="focus = true"
                (blur)="focus = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.nombres.errors &&
                  (userForm.controls.nombres.dirty ||
                    userForm.controls.nombres.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.nombres.errors.required"
                  class="form-text text-danger"
                >
                  Los nombres son requerido
                </small>
                <small
                  *ngIf="userForm.controls.nombres.errors.minlength"
                  class="form-text text-danger"
                >
                  Los nombres debe tener al menos
                  {{
                    userForm.controls.nombres.errors.minlength.requiredLength
                  }}
                  caracteres.
                </small>
              </div>
            </div>
          </div>
  
          <!-- apellidos -->
          <div class="form-group">
            <label for="apellido">Apellido</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-single-02"></i
                ></span>
              </div>
              <input
                class="form-control"
                placeholder="Apellidos"
                formControlName="apellidos"
                id="apellido"
                type="email"
                (focus)="focus1 = true"
                (blur)="focus1 = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.apellidos.errors &&
                  (userForm.controls.apellidos.dirty ||
                    userForm.controls.apellidos.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.apellidos.errors.required"
                  class="form-text text-danger"
                >
                  Los apellidos son requerido
                </small>
                <small
                  *ngIf="userForm.controls.apellidos.errors.minlength"
                  class="form-text text-danger"
                >
                  Los apellidos debe tener al menos
                  {{
                    userForm.controls.apellidos.errors.minlength.requiredLength
                  }}
                  caracteres.
                </small>
              </div>
            </div>
          </div>
  
          <!-- cedula -->
          <div class="form-group">
            <label for="cedula">Cédula</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-single-02"></i
                ></span>
              </div>
              <input
                class="form-control"
                id="cedula"
                placeholder="Cédula"
                formControlName="cedula"
                type="text"
                (focus)="focus1 = true"
                (blur)="focus1 = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.cedula.errors &&
                  (userForm.controls.cedula.dirty ||
                    userForm.controls.cedula.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.cedula.errors.required"
                  class="form-text text-danger"
                >
                  La cédula es requerida
                </small>
                <small
                  *ngIf="userForm.controls.cedula.errors.minlength"
                  class="form-text text-danger"
                >
                  Los cédula debe tener al menos
                  {{
                    userForm.controls.cedula.errors.minlength.requiredLength
                  }}
                  caracteres.
                </small>
              </div>
  
            </div>
          </div>
  
          <!-- celular -->
          <div class="form-group">
            <label for="celular">Número celular</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-single-02"></i
                ></span>
              </div>
              <input
                class="form-control"
                id="celular"
                placeholder="Número celular"
                formControlName="celular"
                type="text"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.celular.errors &&
                  (userForm.controls.celular.dirty ||
                    userForm.controls.celular.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.celular.errors.required"
                  class="form-text text-danger"
                >
                  El número celular es requerido
                </small>
                <small
                  *ngIf="userForm.controls.celular.errors.minlength"
                  class="form-text text-danger"
                >
                  El número celular debe tener al menos
                  {{
                    userForm.controls.celular.errors.minlength.requiredLength
                  }}
                  caracteres.
                </small>
              </div>
  
            </div>
          </div>
  
          <!-- correo -->
          <div class="form-group">
            <label for="correo">Correo</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-email-83"></i
                ></span>
              </div>
              <input
                class="form-control"
                placeholder="Correo electrónico"
                formControlName="correo"
                type="email"
                id="correo"
                (focus)="focus1 = true"
                (blur)="focus1 = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.correo.errors &&
                  (userForm.controls.correo.dirty ||
                    userForm.controls.correo.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.correo.errors.required"
                  class="form-text text-danger"
                >
                  El correo electrónico es requerido
                </small>
                <small 
                  *ngIf="userForm.controls.correo.errors.email"
                  class="form-text text-danger"
                  >
                  El campo correo electrónico debe tener un formato válido.
                </small>
              </div>
  
            </div>
          </div>
  
          <!-- contraseña -->
          <div class="form-group">
            <label for="contraseña">Contraseña</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-lock-circle-open"></i
                ></span>
              </div>
              <input
                class="form-control"
                placeholder="Contraseña"
                formControlName="password"
                id="contraseña"
                type="password"
                (focus)="focus2 = true"
                (blur)="focus2 = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.password.errors &&
                  (userForm.controls.password.dirty ||
                    userForm.controls.password.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.password.errors.required"
                  class="form-text text-danger"
                >
                  La contraseña es requerdia
                </small>
                <small 
                  *ngIf="userForm.controls.password.errors.minlength"
                  class="form-text text-danger"
                  >
                  La contraseña debe tener al menos
                  {{
                    userForm.controls.password.errors.minlength.requiredLength
                  }}
                  caracteres.
                </small>
              </div>
  
            </div>
          </div>
  
          <!-- confirmar contraseña -->
          <div class="form-group">
            <label for="confirmar">Confirmar contraseña</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-lock-circle-open"></i
                ></span>
              </div>
              <input
                class="form-control"
                placeholder="Confirmar contraseña"
                formControlName="confirPassword"
                id="confirmar"
                type="password"
                (focus)="focus2 = true"
                (blur)="focus2 = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.confirPassword.errors &&
                  (userForm.controls.confirPassword.dirty ||
                    userForm.controls.confirPassword.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.confirPassword.errors.required"
                  class="form-text text-danger"
                >
                  La confirmación de la contraseña es requerida
                </small>
              </div>
            </div>
          </div>
  
          <!-- genero -->
          <div class="form-group">
            <label for="generos">Género</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="ni ni-badge"></i></span>
              </div>
  
              <select
                class="custom-select form-control"
                formControlName="genero"
                id="generos"
              >
                <option *ngFor="let g of generos" [value]="g">
                  {{ g }}
                </option>
              </select>
            </div>
  
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.genero.errors &&
                  (userForm.controls.genero.dirty ||
                    userForm.controls.genero.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.genero.errors.required"
                  class="form-text text-danger"
                >
                  La selección de un género es requerida
                </small>
              </div>
            </div>
          </div>
  
          <!-- nacimiento -->
          <div class="form-group">
            <label for="nacimiento">Nacimiento</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="ni ni-calendar-grid-58"></i
                ></span>
              </div>
              <input
                class="form-control"
                formControlName="nacimiento"
                type="date"
                id="nacimiento"
                (focus)="focus1 = true"
                (blur)="focus1 = false"
              />
            </div>
            <div class="input-error">
              <div
                *ngIf="
                  userForm.controls.nacimiento.errors &&
                  (userForm.controls.nacimiento.dirty ||
                    userForm.controls.nacimiento.touched)
                "
              >
                <small
                  *ngIf="userForm.controls.nacimiento.errors.required"
                  class="form-text text-danger"
                >
                  La selección de una fecha es requerida
                </small>
              </div>
            </div>
          </div>
  
          <!-- rol de usuario -->
          <div class="form-group">
            <label for="rol">Rol de usuario</label>
            <div class="input-group input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="ni ni-badge"></i></span>
              </div>
  
              <select
                class="custom-select form-control"
                formControlName="rol"
                id="rol"
              >
                <option *ngFor="let rol of roles" [value]="rol">
                  {{ rol }}
                </option>
              </select>
            </div>
          </div>
        </div>
  
        <div class="text-center">
          <button
            [disabled]="!userForm.valid"
            type="submit"
            class="btn btn-primary mt-4"
          >
            Crear cuenta
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
